1. **三次握手**
   - 假设 A 为客户端，B 为服务器端。首先 B 处于 LISTEN（监听）状态，等待客户的连接请求。
   - A 向 B 发送连接请求报文，SYN=1，ACK=0，选择一个初始的序号 x。
   - B 收到连接请求报文，如果同意建立连接，则向 A 发送连接确认报文，SYN=1，ACK=1，确认号为 x+1，同时也选择一个初始的序号y。
   - A 收到 B 的连接确认报文后，还要向 B 发出确认，确认号为 y+1，序号为 x+1。
   - B 收到 A 的确认后，连接建立。
2. **为什么三次**
   - 第一次握手：客户端发送网络包，服务端收到了。这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。
   - 第二次握手：服务端发包，客户端收到了。这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。
   - 第三次握手：客户端发包，服务端收到了。这样服务端就能得出结论：客户端的接收、发送能力，服务端的发送、接收能力是正常的。第一、二次握手后，服务端并不知道客户端的接收能力以及自己的发送能力是否正常。
3. **四次挥手**
   - 客户端发送一个 FIN 段，并包含序列号 K. 同时还包含一个 ACK 表示确认对方最近一次发过来的数据。
   - 服务端将 K 值加 1 作为 ACK 序号值，表明收到了上一个包。这时上层的应用程序会被告知另一端发起了关闭操作，通常这将引起应用程序发起自己的关闭操作。
   - 服务端发起自己的 FIN 段，ACK=K+1, 序号Seq=L。
   - 客户端确认。进入 TIME-WAIT 状态，等待 2 MSL（最大报文存活时间）后释放连接。ACK=L+1。
4. **为什么四次**
   - 一方发起FIN后另一方仍然想传输数据，因此ACK 和 FIN 一般都会分开发。而建立连接时 ACK 和 SYN 放在一个报文里发送，握手只有三次。
5. **为什么TIME-WAIT两个MSL**
   - 确保最后一个确认报文能够到达。如果 B 没收到 A 发送来的确认报文，那么就会重新发送连接释放请求报文，A 等待一段时间就是为了处理这种情况的发生。
   - 等待一段时间是为了让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接不会出现旧的连接请求报文。
6. **停止等待ARQ协议**
   - 停止等待协议是为了实现可靠传输的，它的基本原理就是每发完一个分组就停止发送，等待对方确认（回复ACK）。如果过了一段时间（超时时间后），还是没有收到 ACK 确认，说明没有发送成功，需要重新发送，直到收到确认后再发下一个分组。
   - 在停止等待协议中，若接收方收到重复分组，就丢弃该分组，但同时还要发送确认。
7. **连续ARQ协议**
   - 可提高信道利用率。
   - 发送方维持一个发送窗口，凡位于发送窗口内的分组可以连续发送出去，而不需要等待对方确认。
   - 接收方一般采用累计确认，对按序到达的最后一个分组发送确认，表明到这个分组为止的所有分组都已经正确收到了。
   - 确认丢失，不一定重传。
   - 不能向发送方反映出接收方已经正确收到的所有分组的信息，Go-Back-N（回退 N），表示需要退回来重传已经发送过的 N 个消息。
8. **流量控制、拥塞控制**
   - TCP 利用滑动窗口实现流量控制。
   - 拥塞控制是一个全局性的过程，涉及到所有的主机，所有的路由器，以及与降低网络传输性能有关的所有因素。相反，流量控制往往是点对点通信量的控制，是个端到端的问题。
9. **TCP和UDP的区别**
    - TCP：面向连接  可靠    字节流     传输效率慢  所需资源多  首部20-60字节
    - UDP：无连接    不可靠  数据报文段  传输效率快  所需资源少  首部8字节
10. **TCP如何保证可靠传输**
    - 应用数据被分割成 TCP 认为最适合发送的数据块。
    - TCP给发送的每一个包进行编号，接收方对数据包进行排序，把有序数据传送给应用层。
    - 校验和。
    - TCP的接收端会丢弃重复的数据。
    - 流量控制和拥塞控制，防止包丢失。
    - ARQ协议。
    - 超时重传。
11. **从输入域名到显示网页的过程**
    - DNS解析。
    - TCP连接。
    - 发送HTTP请求（请求行，请求报头，请求正文）。
    - 服务器解析请求并返回HTTP报文（状态码，响应报头，响应正文）。
    - 浏览器解析渲染页面。
    - 连接结束。
12. **ping命令用了什么协议，在哪一层**
    - ping工作在应用层，它直接使用网络层的ICMP协议。
13. **HTTP1.0和1.1**
    - HTTP1.0定义了三种请求方法：GET, POST 和 HEAD方法。
    - HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。
14. **GET和POST的区别**
    - GET：“读取“一个资源；因为GET因为是读取，就可以对GET请求的数据做缓存。
    - POST：向服务器提交数据，让服务器做一件事；不能缓存。
15. **NAT(Network Adress Translation)技术**
    - 节约IP地址，多个局部IP映射到一个公网IP